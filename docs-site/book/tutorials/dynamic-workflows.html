<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Dynamic Workflows - MIDIMon Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Transform MIDI controllers into advanced macro pads with RGB feedback and timing-based triggers">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">MIDIMon Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/amiable-dev/midimon" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/amiable-dev/midimon/edit/main/docs-site/src/src/tutorials/dynamic-workflows.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="tutorial-building-dynamic-workflows"><a class="header" href="#tutorial-building-dynamic-workflows">Tutorial: Building Dynamic Workflows</a></h1>
<p>Step-by-step guide to combining velocity curves and conditional actions for powerful context-aware MIDI controller mappings.</p>
<hr />
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>This tutorial will teach you to create sophisticated, context-aware workflows that adapt to:</p>
<ul>
<li>Time of day (work hours vs evening)</li>
<li>Active application (DAW vs browser vs IDE)</li>
<li>Day of week (weekdays vs weekends)</li>
<li>Current mode</li>
<li>How hard you hit the pad</li>
</ul>
<p>By the end, you'll build a complete workflow that transforms your MIDI controller into an intelligent assistant.</p>
<hr />
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<ul>
<li>MIDIMon installed and configured</li>
<li>Basic TOML editing skills (or use the GUI)</li>
<li>A MIDI controller connected</li>
<li>Understanding of basic triggers and actions</li>
</ul>
<p><strong>Estimated Time</strong>: 30-45 minutes</p>
<hr />
<h2 id="tutorial-structure"><a class="header" href="#tutorial-structure">Tutorial Structure</a></h2>
<p>We'll build three progressively complex workflows:</p>
<ol>
<li><strong>Beginner</strong>: Time-based app launcher</li>
<li><strong>Intermediate</strong>: Velocity-sensitive DAW control</li>
<li><strong>Advanced</strong>: Multi-condition workflow with nested logic</li>
</ol>
<hr />
<h2 id="workflow-1-time-based-app-launcher-beginner"><a class="header" href="#workflow-1-time-based-app-launcher-beginner">Workflow 1: Time-Based App Launcher (Beginner)</a></h2>
<p><strong>Goal</strong>: Launch Slack during work hours, Discord after hours.</p>
<h3 id="step-1-create-the-basic-mapping"><a class="header" href="#step-1-create-the-basic-mapping">Step 1: Create the Basic Mapping</a></h3>
<p>Open your <code>config.toml</code> and add a new global mapping:</p>
<pre><code class="language-toml">[[global_mappings]]
description = "Smart communication launcher"

[global_mappings.trigger]
type = "Note"
note = 8  # Choose your pad number
</code></pre>
<h3 id="step-2-add-the-conditional-action"><a class="header" href="#step-2-add-the-conditional-action">Step 2: Add the Conditional Action</a></h3>
<p>Add the conditional logic:</p>
<pre><code class="language-toml">[global_mappings.action]
type = "Conditional"

[global_mappings.action.condition]
type = "And"
conditions = [
  { type = "TimeRange", start = "09:00", end = "17:00" },
  { type = "DayOfWeek", days = [1, 2, 3, 4, 5] }
]

[global_mappings.action.then_action]
type = "Launch"
app = "Slack"

[global_mappings.action.else_action]
type = "Launch"
app = "Discord"
</code></pre>
<h3 id="step-3-test-the-workflow"><a class="header" href="#step-3-test-the-workflow">Step 3: Test the Workflow</a></h3>
<ol>
<li>Save <code>config.toml</code></li>
<li>Config will hot-reload automatically</li>
<li>Press your configured pad during work hours (Mon-Fri 9am-5pm)</li>
<li>Verify Slack launches</li>
<li>Press the same pad outside work hours</li>
<li>Verify Discord launches</li>
</ol>
<h3 id="understanding-the-logic"><a class="header" href="#understanding-the-logic">Understanding the Logic</a></h3>
<pre><code>IF (time is 9am-5pm AND day is Monday-Friday):
  Launch Slack
ELSE:
  Launch Discord
</code></pre>
<h3 id="gui-configuration"><a class="header" href="#gui-configuration">GUI Configuration</a></h3>
<p>If using the GUI:</p>
<ol>
<li>Open Mappings view</li>
<li>Click "Add Mapping"</li>
<li>Set trigger to Note 8</li>
<li>Select action type "Conditional"</li>
<li>Select condition type "And"</li>
<li>Add two sub-conditions:
<ul>
<li>TimeRange: 09:00 to 17:00</li>
<li>DayOfWeek: Select Mon-Fri</li>
</ul>
</li>
<li>Configure then_action: Launch → Slack</li>
<li>Configure else_action: Launch → Discord</li>
<li>Save</li>
</ol>
<hr />
<h2 id="workflow-2-velocity-sensitive-daw-control-intermediate"><a class="header" href="#workflow-2-velocity-sensitive-daw-control-intermediate">Workflow 2: Velocity-Sensitive DAW Control (Intermediate)</a></h2>
<p><strong>Goal</strong>: Control Logic Pro with velocity-sensitive MIDI notes, boosting soft hits for expressive playing.</p>
<h3 id="step-1-create-the-mapping"><a class="header" href="#step-1-create-the-mapping">Step 1: Create the Mapping</a></h3>
<pre><code class="language-toml">[[modes.mappings]]
description = "Expressive MIDI control"

[modes.mappings.trigger]
type = "Note"
note = 1
</code></pre>
<h3 id="step-2-add-velocity-curve"><a class="header" href="#step-2-add-velocity-curve">Step 2: Add Velocity Curve</a></h3>
<p>Make soft hits more audible:</p>
<pre><code class="language-toml">[modes.mappings.velocity_mapping]
type = "Curve"
curve_type = "Exponential"
intensity = 0.7  # Strong boost for soft notes
</code></pre>
<h3 id="step-3-add-conditional-daw-control"><a class="header" href="#step-3-add-conditional-daw-control">Step 3: Add Conditional DAW Control</a></h3>
<p>Only send MIDI if Logic Pro is running:</p>
<pre><code class="language-toml">[modes.mappings.action]
type = "Conditional"

[modes.mappings.action.condition]
type = "AppRunning"
app_name = "Logic Pro"

[modes.mappings.action.then_action]
type = "SendMidi"
port = "IAC Driver Bus 1"
message_type = "NoteOn"
channel = 0
note = 60  # Middle C
# Velocity is derived from mapped input velocity

[modes.mappings.action.else_action]
type = "Sequence"
actions = [
  { type = "Launch", app = "Logic Pro" },
  { type = "Delay", ms = 2000 },
  { type = "Text", text = "Logic Pro launched, try again" }
]
</code></pre>
<h3 id="step-4-test-the-workflow"><a class="header" href="#step-4-test-the-workflow">Step 4: Test the Workflow</a></h3>
<ol>
<li>
<p><strong>With Logic Pro closed</strong>:</p>
<ul>
<li>Press pad → Logic Pro launches</li>
<li>Wait 2 seconds → See notification</li>
</ul>
</li>
<li>
<p><strong>With Logic Pro running</strong>:</p>
<ul>
<li>Press pad softly → Sends MIDI note with boosted velocity</li>
<li>Press pad hard → Sends MIDI note at full velocity</li>
<li>Notice soft notes are more audible due to exponential curve</li>
</ul>
</li>
</ol>
<h3 id="understanding-the-flow"><a class="header" href="#understanding-the-flow">Understanding the Flow</a></h3>
<pre><code>Input Velocity → Exponential Curve (boost soft hits) → Mapped Velocity

IF Logic Pro is running:
  Send MIDI with mapped velocity to IAC Driver
ELSE:
  Launch Logic Pro
  Wait 2 seconds
  Show notification
</code></pre>
<h3 id="velocity-curve-effect"><a class="header" href="#velocity-curve-effect">Velocity Curve Effect</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Input Velocity</th><th>Without Curve</th><th>With Exponential (0.7)</th></tr></thead><tbody>
<tr><td>20 (very soft)</td><td>20</td><td>~65 (much louder)</td></tr>
<tr><td>64 (medium)</td><td>64</td><td>~85 (slightly louder)</td></tr>
<tr><td>100 (hard)</td><td>100</td><td>~110 (barely affected)</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="workflow-3-multi-condition-smart-assistant-advanced"><a class="header" href="#workflow-3-multi-condition-smart-assistant-advanced">Workflow 3: Multi-Condition Smart Assistant (Advanced)</a></h2>
<p><strong>Goal</strong>: Create a single pad that adapts to time, app, and velocity for different actions.</p>
<h3 id="the-scenario"><a class="header" href="#the-scenario">The Scenario</a></h3>
<p>We want pad 10 to:</p>
<ul>
<li><strong>Work hours + Browser</strong>: Open new tab (velocity doesn't matter)</li>
<li><strong>Work hours + DAW</strong>: Send velocity-sensitive MIDI</li>
<li><strong>Evening + Any app</strong>: Launch entertainment app based on velocity
<ul>
<li>Soft hit: Launch Spotify</li>
<li>Hard hit: Launch Steam</li>
</ul>
</li>
</ul>
<h3 id="step-1-create-the-foundation"><a class="header" href="#step-1-create-the-foundation">Step 1: Create the Foundation</a></h3>
<pre><code class="language-toml">[[global_mappings]]
description = "Adaptive smart pad"

[global_mappings.trigger]
type = "Note"
note = 10
</code></pre>
<h3 id="step-2-configure-velocity-mapping"><a class="header" href="#step-2-configure-velocity-mapping">Step 2: Configure Velocity Mapping</a></h3>
<p>Use S-Curve for natural dynamics:</p>
<pre><code class="language-toml">[global_mappings.velocity_mapping]
type = "Curve"
curve_type = "SCurve"
intensity = 0.5
</code></pre>
<h3 id="step-3-build-the-conditional-logic"><a class="header" href="#step-3-build-the-conditional-logic">Step 3: Build the Conditional Logic</a></h3>
<p>First level: Check if work hours:</p>
<pre><code class="language-toml">[global_mappings.action]
type = "Conditional"

[global_mappings.action.condition]
type = "And"
conditions = [
  { type = "TimeRange", start = "09:00", end = "17:00" },
  { type = "DayOfWeek", days = [1, 2, 3, 4, 5] }
]
</code></pre>
<h3 id="step-4-work-hours-branch-then-action"><a class="header" href="#step-4-work-hours-branch-then-action">Step 4: Work Hours Branch (Then Action)</a></h3>
<p>During work hours, check which app is frontmost:</p>
<pre><code class="language-toml">[global_mappings.action.then_action]
type = "Conditional"

[global_mappings.action.then_action.condition]
type = "Or"
conditions = [
  { type = "AppFrontmost", app_name = "Safari" },
  { type = "AppFrontmost", app_name = "Chrome" },
  { type = "AppFrontmost", app_name = "Firefox" }
]

[global_mappings.action.then_action.then_action]
type = "Keystroke"
keys = "t"
modifiers = ["cmd"]  # New tab in browser

[global_mappings.action.then_action.else_action]
type = "Conditional"
condition = { type = "AppRunning", app_name = "Logic Pro" }
then_action = {
  type = "SendMidi",
  port = "IAC Driver Bus 1",
  message_type = "NoteOn",
  channel = 0,
  note = 60
}
else_action = { type = "Text", text = "Work mode: Use browser or DAW" }
</code></pre>
<h3 id="step-5-evening-branch-else-action"><a class="header" href="#step-5-evening-branch-else-action">Step 5: Evening Branch (Else Action)</a></h3>
<p>Outside work hours, use velocity to choose entertainment:</p>
<pre><code class="language-toml">[global_mappings.action.else_action]
type = "VelocityRange"
soft_max = 64
soft_action = { type = "Launch", app = "Spotify" }
hard_action = { type = "Launch", app = "Steam" }
</code></pre>
<h3 id="complete-workflow"><a class="header" href="#complete-workflow">Complete Workflow</a></h3>
<p>Here's the full configuration:</p>
<pre><code class="language-toml">[[global_mappings]]
description = "Adaptive smart pad: Browser/DAW at work, entertainment after hours"

[global_mappings.trigger]
type = "Note"
note = 10

[global_mappings.velocity_mapping]
type = "Curve"
curve_type = "SCurve"
intensity = 0.5

[global_mappings.action]
type = "Conditional"

[global_mappings.action.condition]
type = "And"
conditions = [
  { type = "TimeRange", start = "09:00", end = "17:00" },
  { type = "DayOfWeek", days = [1, 2, 3, 4, 5] }
]

# Work hours branch
[global_mappings.action.then_action]
type = "Conditional"

[global_mappings.action.then_action.condition]
type = "Or"
conditions = [
  { type = "AppFrontmost", app_name = "Safari" },
  { type = "AppFrontmost", app_name = "Chrome" },
  { type = "AppFrontmost", app_name = "Firefox" }
]

[global_mappings.action.then_action.then_action]
type = "Keystroke"
keys = "t"
modifiers = ["cmd"]

[global_mappings.action.then_action.else_action]
type = "Conditional"
condition = { type = "AppRunning", app_name = "Logic Pro" }
then_action = { type = "SendMidi", port = "IAC Driver Bus 1", message_type = "NoteOn", channel = 0, note = 60 }
else_action = { type = "Text", text = "Work mode: Use browser or DAW" }

# Evening branch
[global_mappings.action.else_action]
type = "VelocityRange"
soft_max = 64
soft_action = { type = "Launch", app = "Spotify" }
hard_action = { type = "Launch", app = "Steam" }
</code></pre>
<h3 id="testing-the-advanced-workflow"><a class="header" href="#testing-the-advanced-workflow">Testing the Advanced Workflow</a></h3>
<p><strong>Scenario 1</strong>: Monday 10am, Safari frontmost</p>
<ul>
<li>Press pad → New tab in Safari</li>
</ul>
<p><strong>Scenario 2</strong>: Tuesday 2pm, Logic Pro running</p>
<ul>
<li>Press pad softly → MIDI note with moderate velocity (S-curve mapped)</li>
<li>Press pad hard → MIDI note with high velocity</li>
</ul>
<p><strong>Scenario 3</strong>: Friday 8pm</p>
<ul>
<li>Press pad softly → Spotify launches</li>
<li>Press pad hard → Steam launches</li>
</ul>
<p><strong>Scenario 4</strong>: Monday 10am, VS Code frontmost</p>
<ul>
<li>Press pad → "Work mode: Use browser or DAW" notification</li>
</ul>
<h3 id="understanding-the-decision-tree"><a class="header" href="#understanding-the-decision-tree">Understanding the Decision Tree</a></h3>
<pre><code>Input Velocity → S-Curve → Mapped Velocity

IF (weekday AND 9am-5pm):
  IF (browser is frontmost):
    New tab (Cmd+T)
  ELSE IF (Logic Pro running):
    Send MIDI note (mapped velocity)
  ELSE:
    Show notification
ELSE (evening/weekend):
  IF (soft hit, velocity ≤ 64):
    Launch Spotify
  ELSE (hard hit, velocity &gt; 64):
    Launch Steam
</code></pre>
<hr />
<h2 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h2>
<h3 id="1-start-simple-build-complexity"><a class="header" href="#1-start-simple-build-complexity">1. Start Simple, Build Complexity</a></h3>
<p>Don't try to build the advanced workflow first. Start with:</p>
<ol>
<li>Single condition</li>
<li>Add second condition with And</li>
<li>Add nested conditional</li>
<li>Add velocity mapping</li>
</ol>
<h3 id="2-test-each-layer"><a class="header" href="#2-test-each-layer">2. Test Each Layer</a></h3>
<p>After adding each condition:</p>
<ol>
<li>Save config</li>
<li>Test the new behavior</li>
<li>Verify existing behavior still works</li>
<li>Add next layer</li>
</ol>
<h3 id="3-use-descriptive-mappings"><a class="header" href="#3-use-descriptive-mappings">3. Use Descriptive Mappings</a></h3>
<pre><code class="language-toml">description = "Work hours: Browser tab OR DAW MIDI | Evening: Spotify/Steam"
</code></pre>
<p>Clear descriptions help when debugging.</p>
<h3 id="4-debug-with-text-actions"><a class="header" href="#4-debug-with-text-actions">4. Debug with Text Actions</a></h3>
<p>If behavior is unexpected, temporarily replace actions with Text to see which path executes:</p>
<pre><code class="language-toml">then_action = { type = "Text", text = "THEN path executed" }
else_action = { type = "Text", text = "ELSE path executed" }
</code></pre>
<h3 id="5-gui-vs-toml"><a class="header" href="#5-gui-vs-toml">5. GUI vs TOML</a></h3>
<ul>
<li><strong>Simple conditionals</strong>: Use GUI for visual editing</li>
<li><strong>Nested logic</strong>: Use TOML for precision and readability</li>
<li><strong>Velocity curves</strong>: Use GUI for real-time preview graph</li>
</ul>
<hr />
<h2 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h2>
<h3 id="pattern-1-app-specific-shortcuts"><a class="header" href="#pattern-1-app-specific-shortcuts">Pattern 1: App-Specific Shortcuts</a></h3>
<pre><code class="language-toml">condition = { type = "AppFrontmost", app_name = "MyApp" }
then_action = { type = "Keystroke", keys = "s", modifiers = ["cmd"] }
else_action = { type = "Text", text = "Not in MyApp" }
</code></pre>
<h3 id="pattern-2-time-based-behavior"><a class="header" href="#pattern-2-time-based-behavior">Pattern 2: Time-Based Behavior</a></h3>
<pre><code class="language-toml">condition = { type = "TimeRange", start = "22:00", end = "08:00" }
then_action = { type = "Text", text = "Quiet hours - action disabled" }
else_action = { /* normal action */ }
</code></pre>
<h3 id="pattern-3-launch-or-control"><a class="header" href="#pattern-3-launch-or-control">Pattern 3: Launch-or-Control</a></h3>
<pre><code class="language-toml">condition = { type = "AppRunning", app_name = "MyDAW" }
then_action = { /* control command */ }
else_action = { type = "Launch", app = "MyDAW" }
</code></pre>
<h3 id="pattern-4-velocity-gated-actions"><a class="header" href="#pattern-4-velocity-gated-actions">Pattern 4: Velocity-Gated Actions</a></h3>
<pre><code class="language-toml">[velocity_mapping]
type = "Linear"
min = 50
max = 110

[action]
type = "VelocityRange"
soft_max = 70
soft_action = { /* gentle action */ }
hard_action = { /* aggressive action */ }
</code></pre>
<hr />
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="problem-condition-never-true"><a class="header" href="#problem-condition-never-true">Problem: Condition Never True</a></h3>
<p><strong>Check</strong>:</p>
<ol>
<li>Time format is <code>HH:MM</code> (24-hour)</li>
<li>App name matches exactly (check Activity Monitor on macOS)</li>
<li>Day numbers are correct (Monday=1, not 0)</li>
<li>Platform support (AppFrontmost is macOS-only)</li>
</ol>
<p><strong>Debug</strong>:</p>
<pre><code class="language-toml"># Add debug text to both branches
then_action = { type = "Text", text = "Condition TRUE" }
else_action = { type = "Text", text = "Condition FALSE" }
</code></pre>
<h3 id="problem-wrong-action-executes"><a class="header" href="#problem-wrong-action-executes">Problem: Wrong Action Executes</a></h3>
<p><strong>Check</strong>:</p>
<ol>
<li>Logical operator (And vs Or)</li>
<li>Nesting structure (use proper TOML indentation)</li>
<li>Short-circuit evaluation (And stops at first false, Or at first true)</li>
</ol>
<p><strong>Debug</strong>:</p>
<ul>
<li>Test each sub-condition individually</li>
<li>Simplify nested logic to isolate issue</li>
</ul>
<h3 id="problem-velocity-curve-doesnt-feel-right"><a class="header" href="#problem-velocity-curve-doesnt-feel-right">Problem: Velocity Curve Doesn't Feel Right</a></h3>
<p><strong>Solution</strong>:</p>
<ol>
<li>Open GUI velocity curve preview</li>
<li>Adjust intensity in 0.1 increments</li>
<li>Try different curve types:
<ul>
<li>Exponential: Boost soft hits</li>
<li>Logarithmic: Tame hard hits</li>
<li>S-Curve: Natural feel with sweet spot</li>
</ul>
</li>
</ol>
<hr />
<h2 id="next-steps"><a class="header" href="#next-steps">Next Steps</a></h2>
<h3 id="expand-your-workflows"><a class="header" href="#expand-your-workflows">Expand Your Workflows</a></h3>
<p>Now that you've mastered dynamic workflows, try:</p>
<ol>
<li><strong>Per-App Profiles</strong>: Different mappings for different apps</li>
<li><strong>Mode-Based Logic</strong>: Use ModeIs condition for mode-specific behavior</li>
<li><strong>Sequence Actions</strong>: Chain multiple actions with delays</li>
<li><strong>Advanced Velocity</strong>: Combine curves with VelocityRange triggers</li>
</ol>
<h3 id="share-your-workflows"><a class="header" href="#share-your-workflows">Share Your Workflows</a></h3>
<p>Export your <code>config.toml</code> and share with the community:</p>
<ul>
<li>GitHub discussions</li>
<li>Reddit r/midicontrollers</li>
<li>Discord servers</li>
</ul>
<h3 id="learn-more"><a class="header" href="#learn-more">Learn More</a></h3>
<ul>
<li><a href="../guides/context-aware.html">Guide: Context-Aware Mappings</a> - Deep dive into conditionals</li>
<li><a href="../guides/velocity-curves.html">Guide: Velocity Curves</a> - Master velocity mappings</li>
<li><a href="../configuration/actions.html">Configuration: Actions</a> - All available actions</li>
<li><a href="../configuration/triggers.html">Configuration: Triggers</a> - All available triggers</li>
</ul>
<hr />
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>You've learned to:</p>
<ul>
<li>✅ Combine time and app conditions with And/Or logic</li>
<li>✅ Use velocity curves for expressive control</li>
<li>✅ Build nested conditional logic</li>
<li>✅ Create context-aware workflows</li>
<li>✅ Test and debug complex mappings</li>
<li>✅ Follow best practices for maintainable configs</li>
</ul>
<p><strong>Your MIDI controller is now an intelligent, context-aware assistant that adapts to your workflow automatically.</strong></p>
<hr />
<p><strong>Example Configs</strong>: See <code>examples/</code> directory for complete workflow examples:</p>
<ul>
<li><code>work-productivity.toml</code> - Time-based work/personal split</li>
<li><code>daw-control.toml</code> - Velocity-sensitive music production</li>
<li><code>gaming-streams.toml</code> - Entertainment and streaming control</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../guides/daw-control.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../examples/logic-pro.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../guides/daw-control.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../examples/logic-pro.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>

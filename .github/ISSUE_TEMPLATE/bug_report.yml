name: Bug Report
description: Report a bug or unexpected behavior in Conductor
title: "[Bug]: "
labels: ["bug", "needs-triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the information below to help us diagnose and fix the issue.

  - type: textarea
    id: description
    attributes:
      label: Bug Description
      description: A clear and concise description of what the bug is.
      placeholder: Tell us what went wrong...
    validations:
      required: true

  - type: textarea
    id: steps
    attributes:
      label: Steps to Reproduce
      description: Detailed steps to reproduce the behavior
      placeholder: |
        1. Connect device...
        2. Run command...
        3. Press pad...
        4. See error...
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: Expected Behavior
      description: What did you expect to happen?
      placeholder: Describe the expected outcome...
    validations:
      required: true

  - type: textarea
    id: actual
    attributes:
      label: Actual Behavior
      description: What actually happened?
      placeholder: Describe what actually happened...
    validations:
      required: true

  - type: dropdown
    id: os
    attributes:
      label: Operating System
      description: What operating system are you using?
      options:
        - macOS 14 (Sonoma)
        - macOS 13 (Ventura)
        - macOS 12 (Monterey)
        - macOS 11 (Big Sur)
        - Linux (specify in additional context)
        - Windows (specify in additional context)
        - Other (specify in additional context)
    validations:
      required: true

  - type: dropdown
    id: architecture
    attributes:
      label: Architecture
      description: What processor architecture?
      options:
        - Apple Silicon (M1/M2/M3)
        - Intel (x86_64)
        - ARM64 (Linux)
        - Other
    validations:
      required: true

  - type: input
    id: version
    attributes:
      label: Conductor Version
      description: What version of Conductor are you using?
      placeholder: "e.g., v0.1.0-monolithic or commit hash"
    validations:
      required: true

  - type: input
    id: rust-version
    attributes:
      label: Rust Version (if building from source)
      description: Run `rustc --version` to find this
      placeholder: "e.g., rustc 1.75.0"

  - type: input
    id: device
    attributes:
      label: MIDI Device
      description: What MIDI controller are you using?
      placeholder: "e.g., Native Instruments Maschine Mikro MK3"
    validations:
      required: true

  - type: textarea
    id: config
    attributes:
      label: Config Snippet
      description: Relevant portions of your config.toml (remove sensitive data)
      render: toml
      placeholder: |
        [[modes]]
        name = "Default"
        [[modes.mappings]]
        # Your config here...

  - type: textarea
    id: logs
    attributes:
      label: Log Output
      description: Run with `DEBUG=1` and paste relevant log output
      render: shell
      placeholder: |
        $ DEBUG=1 cargo run --release 2
        [output here...]

  - type: textarea
    id: screenshots
    attributes:
      label: Screenshots/Videos
      description: If applicable, add screenshots or videos to help explain the problem
      placeholder: Drag and drop images or paste URLs...

  - type: textarea
    id: additional
    attributes:
      label: Additional Context
      description: Any other context about the problem (driver versions, permissions, conflicts with other software)
      placeholder: Additional information...

  - type: checkboxes
    id: checklist
    attributes:
      label: Pre-submission Checklist
      description: Please confirm the following before submitting
      options:
        - label: I have searched existing issues to ensure this is not a duplicate
          required: true
        - label: I have tested with the latest version of Conductor
          required: true
        - label: I have included log output with DEBUG=1
          required: false
        - label: I have included my config.toml (with sensitive data removed)
          required: false
